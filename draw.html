<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Leaflet Mask</title>
<link rel="stylesheet" href="css/index.css"/>
<link rel="stylesheet" href="css/leaflet.0.7.3.css" />
<link rel="stylesheet" href="css/leaflet.draw.css" />
<link rel="stylesheet" href="css/leaflet-areaselect.css" />
<link rel="stylesheet" href="css/font-awesome-4.2.0/css/font-awesome.min.css" />
<link rel="stylesheet" href="css/d3.slider.css" />
<link rel="stylesheet" href="css/jquery-ui.css">
<link rel="stylesheet" href="css/c3.min.css" />
<link rel="stylesheet" href="css/bootstrap-css/bootstrap.min.css" />
<link rel="stylesheet" href="css/bootstrap-css/bootstrap-theme.min.css" />
<link rel="stylesheet" href="css/bootstrap-dialog.css" />
<link rel="stylesheet" href="css/bootstrap-slider.css" />
<link rel="stylesheet" href="css/L.Control.Sidebar.css" />
<link rel="stylesheet" href="css/ChatManager.css" />
	<!--[if lte IE 8]><link rel="stylesheet" href="lib/leaflet.draw.ie.css" /><![endif]-->    
    <style type="text/css">
        html, body, #map { width: 100%; height: 100%; margin: 0; }
    </style>
<script type = "text/javascript" src="lib/leaflet.0.7.3.js"></script>
<script type = "text/javascript" src="lib/leaflet.draw.js"></script>
<script type = "text/javascript" src="lib/L.Mask.js"></script>
<!--<script type ="text/javascript" src="lib/leaflet.snogylop.js"></script>-->
<script type = "text/javascript" src="lib/jquery-2.1.1.min.js"></script>
<script type = "text/javascript" src="lib/jquery-ui-1.11.0/jquery-ui.js"></script>
<script type = "text/javascript" src="lib/d3/d3.min.js"></script>
<script type = "text/javascript" src="lib/d3.slider.js"></script>
<script type = "text/javascript" src="lib/c3.min.js"></script>
<script type = "text/javascript" src="lib/shp.min.js"></script>
<script type = "text/javascript" src="lib/easy-button.js"></script>
<script type = "text/javascript" src="lib/leaflet-areaselect.js"></script>
<script type = "text/javascript" src="lib/bootstrap.min.js"></script>
<script type = "text/javascript" src="lib/bootstrap-dialog.js"></script>
<script type = "text/javascript" src="lib/bootstrap-slider.js"></script>
<script type = "text/javascript" src="lib/qrcode.js"></script>
<script type = "text/javascript" src="lib/jquery.qrcode.js"></script>
<script type = "text/javascript" src="lib/L.Control.Sidebar.js"></script>
<script type = "text/javascript" src="lib//socket.io-1.3.3.js"></script>
<script type = "text/javascript" src = "lib/ChatManager.js"></script> 
<script type = "text/javascript" src = "javascript/public/imgFastGeneration.js"></script> 
<script type = "text/javascript" src = "javascript/public/imageGenerator.js"></script> 
<script type = "text/javascript" src = "javascript/public/createColorMapper.js"></script>
<script type = "text/javascript" src = "javascript/index/eventFunc.js"></script>
<script type = "text/javascript" src = "javascript/index/globalVariables.js"></script> 
<script type = "text/javascript" src = "javascript/index/addNewElem2Matrix.js"></script> 
<script type = "text/javascript" src = "javascript/index/LoadParamsOptions.js"></script> 
<script type = "text/javascript" src = "javascript/index/createMatrix.js"></script> 
<script type = "text/javascript" src = "javascript/index/createMapIcons.js"></script>
<script type = "text/javascript" src = 'javascript/index/createTimeseries.js'></script> 
<script type = "text/javascript" src = "javascript/index/projectImg2Map.js"></script> 
<script type = "text/javascript" src = "javascript/index/mapLegendInfo.js"></script> 
<script type = "text/javascript" src = "javascript/index/drawShapeFile.js"></script>
<script type = "text/javascript" src = "javascript/index/stationChart.js"></script>
<script type = "text/javascript" src = "javascript/index/plotPopMap.js"></script> 
<script type = "text/javascript" src = "javascript/index/plotScaricityMap.js"></script> 
<script type = "text/javascript" src = "javascript/index/plotWaterMap.js"></script>
<script type = "text/javascript" src = "javascript/index/loadWaterLayers.js"></script>
<script type = "text/javascript" src = "javascript/QRCode/QRCodeManager.js"></script>
<script type = "text/javascript" src = "javascript/index/readyFunc.js"></script>
</head>
<body>
    <div id="popMap"></div>
    <script type="text/javascript">

        // var map = L.map('popMap').setView([59.91, 10.75], 10);

        // L.tileLayer('http://{s}.tile.stamen.com/watercolor/{z}/{x}/{y}.png', {
        //     attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>.'
        // }).addTo(map);

        var mask = new L.Draw.Mask(popMap).enable();

		popMap.on('draw:created', function(evt){
			var layer = evt.layer;
			popMap.addLayer(layer);
			console.log(layer.options.opacity);
			layer.editing.enable();
		});

    </script>
</body>
</html>